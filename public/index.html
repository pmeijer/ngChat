<!DOCTYPE html>
<html>
<head lang="en">
    <title>Real time web chat</title>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body ng-app="ngChat">

<div ng-controller="GlobalChatController">
    Name: <input type="text" ng-model="model.userName"><br>
    Room: <input type="text" ng-disabled="model.inRoom" ng-model="model.room">
          <input type="checkbox" ng-model="model.inRoom" ng-change="joinLeaveRoom()"><br><br>
    <button ng-click="clearMessages()">Clear Messages</button>
    <ul>
        <li ng-Repeat="msg in model.messages">
            <div ng-if="msg.fromMe" style="color:grey"> [{{ msg.user }}]<{{ msg.room }}> - {{ msg.message }} </div>
            <div ng-if="!msg.fromMe && msg.user!=='SERVER'" style="color:blue"> [{{ msg.user }}]<{{ msg.room }}> - {{ msg.message }} </div>
            <div ng-if="msg.user==='SERVER'" style="color:red"> [{{ msg.user }}]<{{ msg.room }}> - {{ msg.message }} </div>
        </li>
    </ul>
    <form ng-submit="sendMessage()">
        <input type="text" ng-model="model.currentMsg"><button ng-click="sendMessage()">Send</button>
        <input type="checkbox" ng-disabled="!model.inRoom" ng-model="model.toRoom"> to {{model.room}}<br>
    </form>
</div>
<script src="module.js"></script>
</body>
</html>